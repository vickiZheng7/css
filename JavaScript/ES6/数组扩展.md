# 数组扩展

## 扩展运算符

**扩展运算符**：由`...`三个点表示，与rest参数的扩展运算符表示一致，但用法完全相反。rest参数将逗号分隔的参数序列集合成数组，而数组的拓展运算符将数组转成用逗号分隔的参数序列。

数组的扩展运算符一般用在函数调用上：

```javascript
let scores = [91, 93, 90, 94]
let sum = add(...scores)
```

值得注意的是，扩展运算符放在括号中，例如`(...scores)`，引擎会认为这里是函数调用。如果没有函数调用就将扩展运算符放在括号中，是会报错的。

```javasc
(...[91, 93, 90, 94]) //Uncaught SyntaxError: Invalid destructuring assignment targe

console.log((...[91, 93, 90, 94])) //Uncaught SyntaxError: Invalid destructuring assignment targe
```

### 替代函数的apply方法

```javascript
let scores = [91, 93, 90]
```

展开数组作为函数的参数，此前的做法是：

```javascript
Math.max.apply(null, scores) //93
```

有了拓展运算符之后，完全可以取代apply，简化参数传入操作

```javascript
Math.max(...scores)
```

### 应用

#### 复制数组

```javascript
const scores = [91, 93, 90]
//es5
let es5_clone_scores = scores.concat()
//es6
let es6_clone_scores1 = [...scores]
//结合解构赋值
let [...es6_clone_scores2] = scores
```

#### 合并数组

```javascript
const scores1 = [91]
const scores2 = [93, 90]
//es5
let es5_merge_scores = scores1.concat(scores2)
//es6
let es6_merge_scores = [...scores1, ...scores2]
```

#### 结合解构赋值

```javascript
let [score1, ...es6_clone_scores2] = scores
```

使用在解构赋值中，可以实现反向操作拓展运算符：将参数序列集合成数组，用于数组赋值。个人觉得rest参数其实就是解构赋值的结果（待进一步确认）。

拓展运算符用于数组赋值时，只能放在最后一位，否则会报错。

#### 字符串

```javascript
[...'hello'] //['h', 'e', 'l', 'l', 'o']
```

虽然字符串在使用上与数组有许多相似之处，但终究不是数组。拓展运算符可以将字符串转为真正的数组。

这种转换还有一个好处，能够准确识别出四字节的Unicode字符，可用于准确计算字符串的长度。

#### 拥有Iterator的对象都可转成真正的数组

```javascript
let nodeList = document.querySelectorAll('div');
let array = [...nodeList];
```

























## Array方法扩展

## Array实例方法扩展

